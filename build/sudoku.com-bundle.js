!function(t){var e={};function s(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=e,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(o,a,function(e){return t[e]}.bind(null,a));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=4)}([function(t,e,s){const o=s(1);t.exports=function(t){this.table=t;const e=t=>{let e=0;const s=t=>{const s=(()=>new Set([...Array(9)].map((t,e)=>e+1)))();t.forEach(t=>{const e=t.value;s.has(e)&&s.delete(e)});const o=(t=>{const e={};return[...t].forEach(t=>{e[t]=new Set([])}),e})(s);t.forEach(t=>{if(t.value)return;const e=[...t.possibleValues];e&&e.length&&e.forEach(e=>{o[e]&&o[e].add(t)})});for(const t of Object.keys(o))if(1===o[t].size){const[s]=[...o[t]];s.finalValue||(s.value=t,s.finalValue=!0,e++)}};for(let e=0;e<9;e++){s(t.getRow(e)),s(t.getColumn(e)),s(t.getSquare(e))}return e>0};this.board=new o(this.table),this.solve=()=>new Promise((t,s)=>{const o=setInterval(()=>{try{if(this.board.zerosLeft){if(!e(this.board)){clearInterval(o);const e=[...Array(9)].map((t,e)=>this.board.getRow(e).map(t=>t.possibleValues&&t.possibleValues.size?[...t.possibleValues]:[t.value]));t({possibleValues:e})}}else{clearInterval(o);const e=[...Array(9)].map((t,e)=>this.board.getRow(e).map(t=>t.value));t({solution:e})}}catch(t){clearInterval(o),s(t)}},1)})}},function(t,e,s){const o=s(2);t.exports=class{constructor(t){this._table=t,this._board=[...Array(9)].map((t,e)=>[...Array(9)].map((t,s)=>{return new o(this,e,s,(t,e)=>{t&&!e?this._zerosLeft--:!t&&e&&this._zerosLeft++})})),this.getDefaultCell=this.getDefaultCell.bind(this),this.getRow=this.getRow.bind(this),this.getColumn=this.getColumn.bind(this),this.getSquare=this.getSquare.bind(this),this.countZeros=this.countZeros.bind(this),this._zerosLeft=0,this.countZeros()}get zerosLeft(){return this._zerosLeft}getDefaultCell(t,e){return this._table[t][e]}getRow(t,e=!1){return[...Array(9)].map((s,o)=>e?this._table[t][o]:this._board[t][o])}getColumn(t,e=!1){return[...Array(9)].map((s,o)=>e?this._table[o][t]:this._board[o][t])}getSquare(t,e=!1){const s=Math.floor(t/3),o=Math.floor(t%3);return this.flatSquare(s,o,e)}flatSquareFromCell(t,e,s=!1){void 0===e&&(e=t.columnIndex,t=t.rowIndex);const o=Math.floor(t/3),a=Math.floor(e/3);return this.flatSquare(o,a,s)}flatSquare(t,e,s=!1){const o=[0,3,6],a=[2,5,8],l=[];for(let i=o[t];i<=a[t];i++)for(let t=o[e];t<=a[e];t++)s?l.push(this._table[i][t]):l.push(this._board[i][t]);return l}countZeros(){this._zerosLeft=0;for(let t=0;t<9;t++)for(let e=0;e<9;e++)this._board[t][e].value||this._zerosLeft++}}},function(t,e){t.exports=class{constructor(t,e,s,o){this.rowIndex=e,this.columnIndex=s,this._board=t,this._value=t.getDefaultCell(e,s),this._possibleValues=this.calculatePossibleValues(),this._onCellUpdated=o||(()=>{}),this.isDefault=this._value>0,this.finalValue=this._value>0,this.updatePossibleValues=this.updatePossibleValues.bind(this)}get value(){return parseInt(this._value)}set value(t){if(!this.finalValue){const e=this._value;this._value=parseInt(t),this._onCellUpdated(t,e),this.updatePossibleValues()}}get possibleValues(){return this._possibleValues}updatePossibleValues(t){t?this._possibleValues&&(this._possibleValues.delete(t),this._value||1!==this._possibleValues.size||(this.value=[...this._possibleValues][0],this.finalValue=!0)):(this._possibleValues.delete(this.value),this._board.getColumn(this.columnIndex).forEach(t=>t.updatePossibleValues(this.value)),this._board.getRow(this.rowIndex).forEach(t=>t.updatePossibleValues(this.value)),this._board.flatSquareFromCell(this.rowIndex,this.columnIndex).forEach(t=>t.updatePossibleValues(this.value)))}calculatePossibleValues(){if(!this._value){const t=new Set([...Array(9)].map((t,e)=>e+1)),e=e=>e.forEach(e=>{t.has(e)&&t.delete(e)});return e([this._value]),e(this._board.getRow(this.rowIndex,!0)),e(this._board.getColumn(this.columnIndex,!0)),e(this._board.flatSquareFromCell(this.rowIndex,this.columnIndex,!0)),t}}}},,function(t,e,s){const o=s(5),a=s(0),l=$("<button>Solve</button>");l.css("float","right"),l.click(()=>{const t=o();new a(t).solve().then(({possibleValues:t,solution:e})=>{let s=0,o=!1;const a=$(".game-controls-item.game-controls-pencil").first(),l=$("#sudoku-wrapper"),i=()=>l.hasClass("pencil-mode"),r=async t=>{o=!0,await new Promise(e=>{t(),setTimeout(()=>e(),1)}),o=!1},n=$(".game-cell"),u=setInterval(async()=>{if(!o){if(n.get(s).click(),t){const e=t[Math.floor(s/9)][Math.floor(s%9)];if(e.length>0){i()||await r(()=>a.click());for(const t of e)await r(()=>$.event.trigger({type:"keydown",which:t.toString().charCodeAt(0)}))}}else{i()&&await r(()=>a.click());const t=e[Math.floor(s/9)][Math.floor(s%9)];await r(()=>$.event.trigger({type:"keydown",which:t.toString().charCodeAt(0)}))}++s>=81&&clearInterval(u)}},1)})}),l.appendTo($("#masthead > .content-wrapper").get(0))},function(t,e){t.exports=()=>{const t=$(".numpad > .numpad-item"),e=$(".game-table .game-row"),s={};t.each((function(){const t=$(this).data("value"),e=$(this).find("svg > path").attr("d");s[e]=t}));const o=[];return e.each((function(t){const e=$(this).find(".game-cell"),a=[];e.each((function(t){if($(this).hasClass("game-value")){const e=$(this).find("svg > path").first().attr("d");a[t]=s[e]}else a[t]=0})),o[t]=a})),o}}]);